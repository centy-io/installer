---
displayNumber: 4
status: closed
priority: 1
createdAt: 2026-02-15T12:00:39.132475+00:00
updatedAt: 2026-02-15T16:05:10.521455+00:00
---

# Only install pre-release versions when explicitly requested via flag

Currently `resolve_version` in `lib/src/github.rs` fetches all releases (including pre-releases) and picks the first one. This means users running the installer without specifying a version will get a pre-release, which is not ideal for stability.

## Current behavior

When no version is specified, the installer fetches `/repos/centy-io/centy-daemon/releases` and picks `releases.first()` â€” the most recent release including pre-releases.

## Expected behavior

1. **Default**: Install the latest stable (non-pre-release) version by using the `/releases/latest` GitHub API endpoint instead of `/releases`
2. **Pre-release flag**: Add a `--pre` or `--prerelease` flag that opts into installing pre-release versions (current behavior)
3. **Notification**: When a pre-release version is available and the user is installing a stable version, print a message like: `Note: Pre-release v0.5.0-alpha.1 is available. Use --pre to install it.`

## Implementation notes

- `resolve_version_from()` should accept a `prerelease: bool` parameter
- When `prerelease` is false (default), use `/releases/latest` endpoint which only returns non-pre-release versions
- When `prerelease` is true, keep the current behavior of fetching all releases
- After resolving the stable version, optionally fetch the first release from `/releases` to check if a newer pre-release exists and notify the user
- The `install.sh` bootstrap script should also forward a `--pre` flag if provided
